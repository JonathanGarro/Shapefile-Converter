# Shapefile to CSV Converter

A Python utility for converting shapefiles (.shp) to CSV format, preserving geographic information in various formats.

## Overview

This tool reads ESRI shapefiles and converts them to CSV format, making geospatial data more accessible for analysis in standard data processing tools. It handles different geometry types (points, lines, polygons) and provides several options for how to represent the geographic information in the resulting CSV.

## Features

- Convert (almost?) any shapefile to CSV format
- Multiple options for handling geometry data:
  - Separate latitude/longitude columns
  - Well-Known Text (WKT) format
  - Centroid coordinates for complex geometries
  - Option to exclude geometry entirely
- Automatic conversion to WGS84 coordinate system
- Command-line interface with helpful examples
- Detailed output information

## Requirements

The following Python packages are required:
- geopandas
- pandas
- fiona
- shapely

Install dependencies with:
```bash
pip install geopandas pandas fiona shapely
```

## Usage

### Basic Usage

```bash
python shapefile_reader.py input.shp
```

This will create a CSV file with the same name as the input file (e.g., `input.csv`).

### Command Line Options

```
usage: shapefile_reader.py [-h] [-o OUTPUT] [--coord-format {separate,wkt,centroid,none}] [--no-geometry] shapefile

Convert shapefile to CSV format

positional arguments:
  shapefile             Path to input shapefile (.shp)

optional arguments:
  -h, --help            show this help message and exit
  -o OUTPUT, --output OUTPUT
                        Output CSV file path
  --coord-format {separate,wkt,centroid,none}
                        How to handle coordinates (default: separate)
  --no-geometry         Exclude geometry information entirely
```

### Examples

#### Basic conversion
```bash
python shapefile_reader.py input.shp
```

#### Specify output file
```bash
python shapefile_reader.py input.shp -o output.csv
```

#### Use centroid coordinates for all geometries
```bash
python shapefile_reader.py input.shp --coord-format centroid
```

#### Include geometry as WKT (Well-Known Text)
```bash
python shapefile_reader.py input.shp --coord-format wkt
```

#### Exclude geometry entirely
```bash
python shapefile_reader.py input.shp --coord-format none
```

## Coordinate Format Options

- **separate**: Creates separate latitude/longitude columns. For points, these are the actual coordinates. For polygons and lines, these are the centroid coordinates.
- **wkt**: Includes geometry as Well-Known Text format, preserving the complete geometry information.
- **centroid**: Uses centroid coordinates for all geometry types.
- **none**: Excludes geometry information entirely.

## File Descriptions

- **shapefile_reader.py**: The main Python script for converting shapefiles to CSV
- **z_18mr25.shp**, **z_18mr25.dbf**, **z_18mr25.prj**, **z_18mr25.shx**: Example shapefile components (a shapefile consists of multiple files with the same name but different extensions)
- **output.csv**: Example output file generated by the script

## Output Format

The output CSV file contains:
- All attribute data from the original shapefile
- Geometry information (depending on the selected format)
- For the 'separate' format: latitude and longitude columns
- For the 'wkt' format: a geometry_wkt column with the Well-Known Text representation
- For all formats except 'none': a geometry_type column indicating the type of geometry (Point, LineString, Polygon, etc.)

## License

This project is open source and available for use and modification.